---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Breadcrumb from '../../../components/Breadcrumb.astro';
import PatternCard from '../../../components/PatternCard.astro';
import { getPatternsByCategory, categoryMeta } from '../../../data/patterns';

const category = 'behavioral';
const meta = categoryMeta[category];
const patterns = getPatternsByCategory(category);
const crumbs = [
  { label: 'Patterns', href: '/patterns/' },
  { label: meta.label },
];
---

<BaseLayout
  title={`${meta.label} Patterns â€” NestJS Design Patterns`}
  description={meta.description}
>
  <section class="border-b border-gray-200 dark:border-gray-800 bg-gradient-to-b from-emerald-50/50 to-white dark:from-emerald-950/30 dark:to-gray-950">
    <div class="mx-auto max-w-6xl px-4 py-12 sm:px-6">
      <Breadcrumb crumbs={crumbs} />
      <h1 class="mt-4 text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl">{meta.label} Patterns</h1>
      <p class="mt-3 text-lg text-gray-600 dark:text-gray-400">{meta.description}</p>
      <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">{meta.count} patterns in this category</p>
    </div>
  </section>

  <div class="mx-auto max-w-6xl px-4 py-12 sm:px-6">
    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {patterns.map((p) => (
        <PatternCard
          title={p.title}
          slug={p.slug}
          category={p.category}
          intent={p.intent}
          complexity={p.complexity}
        />
      ))}
    </div>
  </div>
</BaseLayout>
